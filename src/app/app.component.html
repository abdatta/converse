<div style="text-align:center;">
  <h1>
    Welcome to {{ title }}!
  </h1>
</div>
<div style="width: 100%; display: flex; justify-content: center">
  <mat-card class="example-card">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>Global Chat</mat-card-title>
      <mat-card-subtitle *ngIf="username">You are logged in as <b>{{username}}</b></mat-card-subtitle>
      <button mat-icon-button>
          <mat-icon aria-label="logout" matTooltip="Logout" (click)="logout()">exit_to_app</mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content #chats [class.blur]="!isLoggedIn()">
      <div class="message right" [class.left]="message.user_id !== user_id" *ngFor="let message of messages">
        <mat-card>
          <div class="messager">
            <b>{{message.user_id !== user_id?message.username:'You'}}</b>
            <span style="float: right; margin-top: -2px;">&emsp;ðŸ•’ {{formatDate(message.timestamp)}}</span>
          </div>
          <div>{{message.message}}</div></mat-card>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <mat-form-field class="messenger" floatLabel="always">
          <mat-label>{{typers}}</mat-label>
          <input matInput [placeholder]="'Hey ' + username + '! Type your msg here...'" [(ngModel)]="message" #msg (keydown)="sendTyping($event)" (keydown.enter)="sendMessage()">
      </mat-form-field>        
      <button mat-mini-fab color="accent" (click)="sendMessage()"><mat-icon aria-label="Send" matTooltip="Send">send</mat-icon></button>
    </mat-card-actions>
  </mat-card>
</div>
